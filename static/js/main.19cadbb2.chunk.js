(this["webpackJsonpreact-final-project"]=this["webpackJsonpreact-final-project"]||[]).push([[0],{125:function(e,t,a){},126:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a(15),i=a.n(c),s=(a(125),a(126),a(9)),o=a.n(s),j=a(14),b=a(82);a(157);b.a.initializeApp({apiKey:"AIzaSyAcrC8WFMcfXI8NVwjNDqL-WzqSmpttCeA",authDomain:"react-final-project-eba09.firebaseapp.com",databaseURL:"https://react-final-project-eba09-default-rtdb.firebaseio.com",projectId:"react-final-project-eba09",storageBucket:"react-final-project-eba09.appspot.com",messagingSenderId:"446437310002",appId:"1:446437310002:web:3dbcf986d210e41d16062b"});var u=b.a,l=a(100),d=a.n(l),O=u.firestore(),x=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).get();case 2:return a=e.sent,n=[],r="",a.forEach((function(e){r={data:e.data(),id:e.id},n.push(r)})),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(o.a.mark((function e(t,a){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O.collection(t).doc(a),e.next=3,n.get();case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",r.data());case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).doc(a).delete();case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),f={sendDataToServer:function(){var e=Object(j.a)(o.a.mark((function e(t,a){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.collection(t).add(a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getDataFromServer:x,getAllItems:function(){var e=Object(j.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateServer:function(e,t,a){O.collection(e).doc(t).set(a)},deleteDataFromServer:h,getSpecificDocFromServer:m},p=a(4),v=Object(r.createContext)(),g=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1];return Object(n.jsx)(v.Provider,{value:[c,i],children:e.children})},S=Object(r.createContext)(),C=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1];return Object(n.jsx)(S.Provider,{value:[c,i],children:e.children})},w=Object(r.createContext)(),k=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1];return Object(n.jsx)(w.Provider,{value:[c,i],children:e.children})},y=Object(r.createContext)(),M=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1];return Object(n.jsx)(y.Provider,{value:[c,i],children:e.children})},I=Object(r.createContext)(),D=function(e){var t=Object(r.useState)(!1),a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),j=o[0],b=o[1],u=Object(r.useState)(""),l=Object(p.a)(u,2),d=l[0],O=l[1],x=Object(r.useState)(!1),m=Object(p.a)(x,2),h=m[0],f=m[1];return Object(n.jsx)(I.Provider,{value:{isLogedIn:[c,i],logInUsers:[j,b],logInUser:[d,O],isAdmin:[h,f]},children:e.children})},N=a(107),U=a(192),T=a(17),E=a(12),z=a(190),A=a(200),P=a(201),L=a(187),F=a(41),q=(a(73),a(203)),W=a(204),V=a(206),G=a(193),R=Object(L.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:220},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var B=function(e){var t=R(),a=Object(r.useContext)(y),c=Object(p.a)(a,2),i=c[0],s=c[1],b=Object(r.useState)(""),u=Object(p.a)(b,2),l=u[0],d=u[1],O=Object(r.useContext)(v),x=Object(p.a)(O,2),m=x[0],h=(x[1],Object(r.useState)(!1)),g=Object(p.a)(h,2),S=g[0],C=g[1],w=Object(r.useState)(),k=Object(p.a)(w,2),M=k[0],I=k[1],D=Object(r.useState)([]),T=Object(p.a)(D,2),A=T[0],P=T[1],L=Object(r.useState)("2015-08-09"),F=Object(p.a)(L,2),B=F[0],Y=F[1],H=Object(r.useState)(""),J=Object(p.a)(H,2),K=J[0],X=J[1],Q=Object(r.useState)(!1),Z=Object(p.a)(Q,2),$=(Z[0],Z[1]),_=function(){var t=Object(j.a)(o.a.mark((function t(){var a,n,r,c,j,b,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a={},n={MovieId:M.id,DateWatched:B},!((c=(r=i).findIndex((function(t){return t.data.MemberId==e.memberId})))>=0)){t.next=14;break}(j=r[c].data.Movies).push(n),a={id:r[c].id,data:{MemberId:e.memberId,Movies:j}},r[c]=a,s(r),b={MemberId:e.memberId,Movies:j},f.updateServer("Subscriptions",r[c].id,b),t.next=19;break;case 14:return a={MemberId:e.memberId,Movies:[n]},t.next=17,f.sendDataToServer("Subscriptions",a);case 17:u=t.sent,X(u.id);case 19:C(!1);case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ee=Object(r.useRef)(!0);Object(r.useEffect)((function(){if(ee.current)ee.current=!1;else{var t={MovieId:M.id,DateWatched:B},a={id:K,data:{MemberId:e.memberId,Movies:[t]}},n=i;n.push(a),s(n),$(!0)}}),[K]);var te=function(){var t=[],a=i.find((function(t){return t.data.MemberId==e.memberId}));a&&a.data.Movies.forEach((function(e){var a=m.find((function(t){return t.id==e.MovieId}));if(a){var n={movieId:a.id,movieName:a.data.Title,date:e.DateWatched};t.push(n)}}));d(t)};return Object(r.useEffect)((function(){te()}),[]),Object(r.useEffect)((function(){te()}),[S,e]),Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"column",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(N.a,{variant:"h6",gutterBottom:!0,align:"center",children:"Movies Watched"})}),Object(n.jsx)(z.a,{item:!0,children:S?Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",onClick:function(){C(!1)},children:"Close"}):Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",onClick:function(){C(!0);var e=m.filter((function(e){return e.data.Title!=l.movieName}));P(e)},children:"Subscribe to a new movie"})}),S&&Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(z.a,{item:!0,children:"Add a New Movie "}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"row",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(G.a,{className:t.formControl,children:[Object(n.jsx)(V.a,{children:"Select a Movie"}),Object(n.jsx)(q.a,{onChange:function(e){I(e.target.value)},children:A.map((function(e,t){return Object(n.jsx)(W.a,{value:e,children:e.data.Title},t)}))})]})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)("input",{style:{width:"150px",height:"50px"},type:"date","data-date":"","data-date-format":"DD/MM/YYYY",value:B,onChange:function(e){return Y(e.target.value)}})})]}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",onClick:_,children:"Subscribe"})})]}),Object(n.jsx)(z.a,{item:!0,container:!0,direction:"column",children:Object(n.jsx)("ul",{children:l&&l.map((function(e,t){return Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)("li",{children:[Object(n.jsx)(E.b,{to:"/Movie/".concat(e.movieId),children:e.movieName}),", ",e.date]},t)})}))})})]})})},Y=a(63),H=a.n(Y),J=a(62),K=a.n(J),X=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var Q=function(e){var t=Object(r.useContext)(S),a=Object(p.a)(t,2),c=a[0],i=a[1],s=X(),o=Object(r.useState)(),j=Object(p.a)(o,2),b=j[0],u=j[1],l=Object(r.useState)(!1),d=Object(p.a)(l,2),O=d[0],x=d[1],m=Object(r.useState)(!1),h=Object(p.a)(m,2),v=h[0],g=h[1],C=Object(r.useContext)(I).logInUser,k=Object(p.a)(C,2),y=k[0],M=(k[1],Object(r.useContext)(w)),D=Object(p.a)(M,2),A=D[0],P=(D[1],Object(r.useState)(!0)),L=Object(p.a)(P,2),q=L[0],W=L[1],V=Object(T.f)(),G=function(){if(e.memberDetails)W(!0),u(e.memberDetails),x(e.userPermissions.showEdit),g(e.userPermissions.showDelete);else if(e.match.params.id){W(!1);var t=c.find((function(t){return t.id==e.match.params.id}));t&&(u(t),function(){var e=A.find((function(e){return e.data.UserName==y.user}));e&&e.data.Permissions.forEach((function(e){"Update Movies"==e&&x(!0),"Delete Movies"==e&&g(!0)}))}())}};return Object(r.useEffect)((function(){G()}),[e]),Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(N.a,{variant:"h5",gutterBottom:!0,align:"center",children:[b&&b.data.Name,Object(n.jsx)("br",{})]})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsxs)(N.a,{variant:"h6",gutterBottom:!0,align:"left",children:["Email : ",b&&b.data.Email,Object(n.jsx)("br",{}),"City : ",b&&b.data.City]})}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:b&&O&&Object(n.jsx)(E.b,{to:"/Subscriptions/Edit/".concat(b.id),style:{textDecoration:"none"},children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(K.a,{}),size:"large",variant:"contained"})})}),Object(n.jsx)(z.a,{item:!0,children:v&&Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",size:"large",startIcon:Object(n.jsx)(H.a,{}),onClick:function(){Object(F.confirmAlert)({title:"Are you sure you want to delete Member:",message:b.data.Name,buttons:[{label:"Yes",onClick:function(){return function(){var e=c.filter((function(e){return e.id!=b.id}));i(e),f.deleteDataFromServer("Members",b.id),0==q&&V.push("/Subscriptions")}()}},{label:"No"}]})}})})]}),Object(n.jsx)("br",{}),Object(n.jsx)(z.a,{item:!0,className:s.paper,children:b&&Object(n.jsx)(B,{memberId:b.id})}),Object(n.jsx)("br",{})]})},Z=a(205),$=a(31),_=a.n($),ee=a(64),te=a.n(ee),ae=a(196);var ne=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),b=Object(p.a)(s,2),u=b[0],l=b[1],d=Object(r.useState)(""),O=Object(p.a)(d,2),x=O[0],m=O[1],h=Object(r.useContext)(S),v=Object(p.a)(h,2),g=v[0],C=v[1],w=Object(r.useState)(0),k=Object(p.a)(w,2),y=k[0],M=k[1],I=Object(r.useState)(!1),D=Object(p.a)(I,2),N=(D[0],D[1]),T=function(){var t=Object(j.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={Name:c,Email:u,City:x},t.next=3,f.sendDataToServer("Members",a);case 3:n=t.sent,M(n.id),e.clickedAllMembers();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=Object(r.useRef)(!0);return Object(r.useEffect)((function(){if(E.current)E.current=!1;else{var e={id:y,data:{Name:c,Email:u,City:x}},t=g;t.push(e),C(t),N(!0)}}),[y]),Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsxs)(ae.a,{children:["Name :  ",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("br",{}),"Email : \xa0",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return l(e.target.value)}}),Object(n.jsx)("br",{}),"City  : \xa0\xa0\xa0",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return m(e.target.value)}}),Object(n.jsx)("br",{})]}),Object(n.jsx)("br",{}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(te.a,{}),variant:"contained",size:"large",onClick:T}),Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(_.a,{}),variant:"contained",size:"large",onClick:function(){return e.clickedAllMembers()}})]})},re=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var ce=function(){var e=re(),t=Object(r.useContext)(S),a=Object(p.a)(t,2),c=a[0],i=(a[1],Object(r.useState)(!0)),s=Object(p.a)(i,2),o=s[0],j=s[1],b=Object(r.useState)(!1),u=Object(p.a)(b,2),l=u[0],d=u[1],O=Object(r.useState)("primary"),x=Object(p.a)(O,2),m=x[0],h=x[1],f=Object(r.useState)(""),v=Object(p.a)(f,2),g=v[0],C=v[1],k=Object(r.useContext)(I).logInUser,y=Object(p.a)(k,2),M=y[0],D=(y[1],Object(r.useContext)(w)),T=Object(p.a)(D,2),E=T[0],A=(T[1],Object(r.useState)()),P=Object(p.a)(A,2),L=P[0],F=P[1],q=Object(r.useState)(!1),W=Object(p.a)(q,2),V=W[0],G=W[1],R=Object(r.useState)(!1),B=Object(p.a)(R,2),Y=B[0],H=B[1];Object(r.useEffect)((function(){!function(){var e=E.find((function(e){return e.data.UserName==M.user}));if(e){var t=!1,a=!1;e.data.Permissions.forEach((function(e){"Update Subscription"==e&&(t=!0),"Delete Subscription"==e&&(a=!0),"View Subscription"==e&&G(!0),"Create Subscription"==e&&H(!0)})),F({showEdit:t,showDelete:a})}}()}),[]);var J=function(){C(""),h("primary"),j(!0),d(!1)};return Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(N.a,{variant:"h5",gutterBottom:!0,align:"center",children:"Subscriptions"})}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",color:m,onClick:J,children:"All Members"})}),Object(n.jsx)(z.a,{item:!0,children:Y&&Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",color:g,onClick:function(){h(""),C("primary"),j(!1),d(!0)},children:"Add Member"})})]}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"column",alignItems:"center",children:[V?"":Object(n.jsx)("div",{children:'You Don\'t Have "View Subscriptions" Permissions!'}),o&&V&&c&&c.map((function(t,a){return Object(n.jsx)(z.a,{item:!0,className:e.paper,children:Object(n.jsx)(Q,{memberDetails:t,userPermissions:L})},a)})),l&&Object(n.jsx)("div",{className:e.paper,children:Object(n.jsx)(ne,{clickedAllMembers:J})})]})]})})};var ie=function(e){var t=Object(r.useContext)(y),a=Object(p.a)(t,2),c=a[0],i=(a[1],Object(r.useContext)(S)),s=Object(p.a)(i,2),o=s[0],j=(s[1],Object(r.useState)([])),b=Object(p.a)(j,2),u=b[0],l=b[1];return Object(r.useEffect)((function(){!function(){var t=[],a={},n={};c.forEach((function(r){r.data.Movies.forEach((function(c){c.MovieId==e.movieId&&(n=o.find((function(e){return e.id==r.data.MemberId})))&&(a={memberId:n.id,MemberName:n.data.Name,date:c.DateWatched},t.push(a))}))})),l(t)}()}),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{variant:"h5",variantMapping:"h1",gutterBottom:!0,align:"center",children:"Subscriptions watched"}),Object(n.jsx)("ul",{children:u.map((function(e,t){return Object(n.jsxs)("li",{children:[Object(n.jsx)(E.b,{to:"/Member/".concat(e.memberId),children:e.MemberName}),", ",e.date]},t)}))})]})},se=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(1),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var oe=function(e){var t=se(),a=Object(r.useContext)(v),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(),j=Object(p.a)(o,2),b=j[0],u=j[1],l=Object(r.useState)(!1),d=Object(p.a)(l,2),O=d[0],x=d[1],m=Object(r.useState)(!1),h=Object(p.a)(m,2),g=h[0],S=h[1],C=Object(r.useContext)(I).logInUser,k=Object(p.a)(C,2),y=k[0],M=(k[1],Object(r.useContext)(w)),D=Object(p.a)(M,2),A=D[0],P=(D[1],Object(r.useState)(!0)),L=Object(p.a)(P,2),q=L[0],W=L[1],V=Object(T.f)(),G=function(){if(e.movieDetails)W(!0),u(e.movieDetails),x(e.userPermissions.showEdit),S(e.userPermissions.showDelete);else if(e.match.params.id){W(!1);var t=i.find((function(t){return t.id==e.match.params.id}));t&&(u(t),function(){var e=A.find((function(e){return e.data.UserName==y.user}));e&&e.data.Permissions.forEach((function(e){"Update Movies"==e&&x(!0),"Delete Movies"==e&&S(!0)}))}())}};return Object(r.useEffect)((function(){G()}),[e]),Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"center",children:[Object(n.jsxs)(z.a,{item:!0,children:[Object(n.jsxs)(N.a,{variant:"h4",gutterBottom:!0,align:"center",children:[b&&b.data.Title," , ",b&&b.data.date]}),Object(n.jsxs)(N.a,{variant:"h6",gutterBottom:!0,align:"left",children:["Genres: ",b&&b.data.Genres.join(", ")]})]}),Object(n.jsx)(z.a,{item:!0}),Object(n.jsxs)(z.a,{container:!0,direction:"row",justify:"space-around",alignItems:"flex-start",children:[Object(n.jsx)(z.a,{item:!0,children:b&&Object(n.jsx)("img",{src:b.data.ImageUrl,width:"200",height:"300"})}),Object(n.jsx)(z.a,{item:!0,className:t.paper,children:b&&Object(n.jsx)(ie,{movieId:b.id})})]}),Object(n.jsxs)(z.a,{item:!0,children:[b&&O&&Object(n.jsx)(E.b,{to:"/Movies/Edit/".concat(b.id),style:{textDecoration:"none"},children:Object(n.jsx)(U.a,{style:{textTransform:"none"},size:"large",startIcon:Object(n.jsx)(K.a,{}),variant:"contained"})}),g&&Object(n.jsx)(U.a,{style:{textTransform:"none"},size:"large",variant:"contained",startIcon:Object(n.jsx)(H.a,{}),onClick:function(){Object(F.confirmAlert)({title:"Are you sure you want to delete the movie:",message:b.data.Title,buttons:[{label:"Yes",onClick:function(){return function(){var e=i.filter((function(e){return e.id!=b.id}));s(e),f.deleteDataFromServer("Movies",b.id),0==q&&V.push("/Movies")}()}},{label:"No"}]})}})]})]})},je=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),b=Object(p.a)(s,2),u=b[0],l=b[1],d=Object(r.useState)(""),O=Object(p.a)(d,2),x=O[0],m=O[1],h=Object(r.useState)(),g=Object(p.a)(h,2),S=g[0],C=g[1],w=Object(r.useContext)(v),k=Object(p.a)(w,2),y=k[0],M=k[1],I=Object(r.useState)(0),D=Object(p.a)(I,2),N=D[0],T=D[1],E=Object(r.useState)(!1),z=Object(p.a)(E,2),A=(z[0],z[1]),P=function(){var t=Object(j.a)(o.a.mark((function t(){var a,n,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.split(" "),n={Title:c,date:S,ImageUrl:x,Genres:a},t.next=4,f.sendDataToServer("Movies",n);case 4:r=t.sent,T(r.id),e.clickedAllMovies();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=Object(r.useRef)(!0);return Object(r.useEffect)((function(){if(L.current)L.current=!1;else{var e=u.split(" "),t={id:N,data:{Title:c,date:S,ImageUrl:x,Genres:e}},a=y;a.push(t),M(a),A(!0)}}),[N]),Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsxs)(ae.a,{children:["Name :  \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("br",{}),"Genres : \xa0\xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(Z.a,{variant:"outlined",size:"small",onChange:function(e){return l(e.target.value)}}),Object(n.jsx)("br",{}),"Image URL : ",Object(n.jsx)(Z.a,{variant:"outlined",size:"small",onChange:function(e){return m(e.target.value)}}),Object(n.jsx)("br",{}),"Premierd : \xa0\xa0\xa0",Object(n.jsx)(Z.a,{variant:"outlined",size:"small",onChange:function(e){return C(e.target.value)}})]}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(te.a,{}),size:"large",variant:"contained",onClick:P}),Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(_.a,{}),variant:"contained",size:"large",onClick:function(){return e.clickedAllMovies()}})]})},be=a(103),ue=a.n(be),le=a(197),de=a(198),Oe=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var xe=function(){var e=Object(r.useState)("primary"),t=Object(p.a)(e,2),a=t[0],c=t[1],i=Oe(),s=Object(r.useState)(!0),o=Object(p.a)(s,2),j=o[0],b=o[1],u=Object(r.useState)(""),l=Object(p.a)(u,2),d=l[0],O=l[1],x=Object(r.useState)(""),m=Object(p.a)(x,2),h=m[0],f=m[1],g=Object(r.useContext)(v),S=Object(p.a)(g,2),C=S[0],k=(S[1],Object(r.useState)(!0)),y=Object(p.a)(k,2),M=y[0],D=y[1],T=Object(r.useState)(!1),E=Object(p.a)(T,2),A=E[0],P=E[1],L=Object(r.useState)(),F=Object(p.a)(L,2),q=F[0],W=F[1],V=Object(r.useContext)(I).logInUser,G=Object(p.a)(V,2),R=G[0],B=(G[1],Object(r.useContext)(w)),Y=Object(p.a)(B,2),H=Y[0],J=(Y[1],Object(r.useState)()),K=Object(p.a)(J,2),X=K[0],Q=K[1],$=Object(r.useState)(!1),_=Object(p.a)($,2),ee=_[0],te=_[1],ae=Object(r.useState)(!1),ne=Object(p.a)(ae,2),re=ne[0],ce=ne[1],ie=Object(r.useState)(!1),se=Object(p.a)(ie,2),be=(se[0],se[1]),xe=Object(r.useState)(!1),me=Object(p.a)(xe,2);me[0],me[1],Object(r.useEffect)((function(){W(C),function(){var e=H.find((function(e){return e.data.UserName==R.user}));if(e){var t=!1,a=!1;e.data.Permissions.forEach((function(e){"Update Movies"==e&&(t=!0),"Delete Movies"==e&&(a=!0),"View Movies"==e&&te(!0),"Create Movies"==e&&ce(!0)})),Q({showEdit:t,showDelete:a})}}()}),[]);var he=Object(r.useRef)(!0);Object(r.useEffect)((function(){var e;he.current?he.current=!1:(e=""!=h?C.filter((function(e){return e.data.Title.toUpperCase().startsWith(h)})):C,W(e),be(!0))}),[h,C]);var fe=function(){f(""),O(""),c("primary"),b(!0),D(!0),P(!1),W(C)};return Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(N.a,{variant:"h5",gutterBottom:!0,align:"center",children:"Movies"})}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",color:a,onClick:fe,children:"All Movies"})}),Object(n.jsxs)(z.a,{item:!0,children:[re&&Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",color:d,onClick:function(){c(""),O("primary"),b(!1),D(!1),P(!0)},children:"Add Movie"}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0"]}),Object(n.jsx)(z.a,{item:!0,children:j?Object(n.jsxs)("label",{children:[Object(n.jsx)(Z.a,{placeholder:"e.g., Titanic",value:h,onChange:function(e){return f(e.target.value.toUpperCase())},InputProps:{endAdornment:Object(n.jsx)(le.a,{position:"end",children:Object(n.jsx)(de.a,{children:Object(n.jsx)(ue.a,{})})})},variant:"outlined",style:{width:205},size:"small"}),Object(n.jsx)("br",{})]}):""})]}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"column",alignItems:"center",children:[ee?"":Object(n.jsx)("div",{children:'You Don\'t Have "View Movies" Permissions!'}),M&&ee&&q&&q.map((function(e,t){return Object(n.jsxs)("div",{children:[Object(n.jsx)(z.a,{item:!0,className:i.paper,children:Object(n.jsx)(oe,{movieDetails:e,userPermissions:X})},t),Object(n.jsx)("br",{})]})})),A&&Object(n.jsx)("div",{className:i.paper,children:Object(n.jsx)(je,{clickedAllMovies:fe})})]})]})})},me=a(65),he=a.n(me),fe=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var pe=function(e){var t=fe(),a=Object(r.useState)(""),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(""),j=Object(p.a)(o,2),b=j[0],u=j[1],l=Object(r.useState)(),d=Object(p.a)(l,2),O=d[0],x=d[1],m=Object(r.useContext)(v),h=Object(p.a)(m,2),g=h[0],S=h[1],C=Object(r.useState)(""),w=Object(p.a)(C,2),k=w[0],y=w[1];return Object(r.useEffect)((function(){!function(){var t=g.findIndex((function(t){return t.id==e.match.params.id}));t>=0&&(y(g[t]),s(g[t].data.Genres),u(g[t].data.ImageUrl),x(g[t].data.date))}()}),[]),Object(n.jsx)("div",{children:Object(n.jsx)(z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsxs)(ae.a,{className:t.paper,children:[Object(n.jsxs)("h2",{children:["Edit Movie : ",k&&k.data.Title]}),"Name : ",Object(n.jsx)(Z.a,{variant:"outlined",value:k&&k.data.Title}),Object(n.jsx)("br",{}),"Genres : ",Object(n.jsx)(Z.a,{variant:"outlined",placeholder:k&&k.data.Genres,onChange:function(e){var t=e.target.value;t=t.split(" "),s(t)}}),Object(n.jsx)("br",{}),"Image URL :  ",Object(n.jsx)(Z.a,{variant:"outlined",placeholder:k&&k.data.ImageUrl,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("br",{}),"Premierd :  ",Object(n.jsx)(Z.a,{variant:"outlined",placeholder:k&&k.data.date,onChange:function(e){return x(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(ae.a,{row:!0,children:[Object(n.jsx)(E.b,{style:{textDecoration:"none"},to:"/Movies",children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(he.a,{}),variant:"contained",size:"large",onClick:function(){var t={id:e.match.params.id,data:{Title:k.data.Title,date:O,ImageUrl:b,Genres:i}},a={Title:k.data.Title,date:O,ImageUrl:b,Genres:i},n=g,r=g.findIndex((function(e){return e.id==t.id}));r>=0&&(n[r]=t,S(n),f.updateServer("Movies",t.id,a))}})}),Object(n.jsx)(E.b,{style:{textDecoration:"none"},to:"/Movies",children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(_.a,{}),size:"large",variant:"contained"})})]})]})})})},ve=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var ge=function(e){var t=ve(),a=Object(r.useContext)(S),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(""),j=Object(p.a)(o,2),b=j[0],u=j[1],l=Object(r.useState)(""),d=Object(p.a)(l,2),O=d[0],x=d[1],m=Object(r.useState)(""),h=Object(p.a)(m,2),v=h[0],g=h[1],C=Object(r.useState)(""),w=Object(p.a)(C,2),k=(w[0],w[1]);return Object(r.useEffect)((function(){!function(){var t=i.findIndex((function(t){return t.id==e.match.params.id}));t>=0&&(k(i[t]),u(i[t].data.Name),x(i[t].data.Email),g(i[t].data.City))}()}),[]),Object(n.jsx)("div",{children:Object(n.jsx)(z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsxs)(ae.a,{className:t.paper,children:[Object(n.jsxs)("h3",{children:["Edit Member : ",b]}),"Name :  ",Object(n.jsx)(Z.a,{variant:"outlined",placeholder:b,onChange:function(e){return u(e.target.value)}}),Object(n.jsx)("br",{}),"Email : \xa0",Object(n.jsx)(Z.a,{variant:"outlined",placeholder:O,onChange:function(e){return x(e.target.value)}}),Object(n.jsx)("br",{}),"City : \xa0\xa0\xa0",Object(n.jsx)(Z.a,{variant:"outlined",placeholder:v,onChange:function(e){return g(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(ae.a,{row:!0,children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(E.b,{style:{textDecoration:"none"},to:"/Subscriptions",children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(he.a,{}),variant:"contained",size:"large",onClick:function(){var t={id:e.match.params.id,data:{Name:b,Email:O,City:v}},a={Name:b,Email:O,City:v},n=i,r=i.findIndex((function(e){return e.id==t.id}));r>=0&&(n[r]=t,s(n),f.updateServer("Members",t.id,a))}})}),Object(n.jsx)(E.b,{style:{textDecoration:"none"},to:"/Subscriptions",children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(_.a,{}),variant:"contained",size:"large"})})]})]})})})},Se=a(202),Ce=a(199),we=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var ke=function(e){var t=we(),a=Object(r.useContext)(w),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(""),j=Object(p.a)(o,2),b=j[0],u=j[1],l=Object(r.useState)(""),d=Object(p.a)(l,2),O=d[0],x=d[1],m=Object(r.useState)(""),h=Object(p.a)(m,2),v=h[0],g=h[1],S=Object(r.useState)(""),C=Object(p.a)(S,2),k=C[0],y=C[1],M=Object(r.useState)(0),I=Object(p.a)(M,2),D=I[0],N=I[1],T=Object(r.useState)(""),A=Object(p.a)(T,2),P=A[0],L=A[1],F=Object(r.useState)(""),q=Object(p.a)(F,2),W=q[0],V=q[1],G=Object(r.useState)(""),R=Object(p.a)(G,2),B=R[0],Y=R[1],H=Object(r.useState)(""),J=Object(p.a)(H,2),K=J[0],X=J[1],Q=Object(r.useState)(""),$=Object(p.a)(Q,2),ee=$[0],te=$[1],ne=Object(r.useState)(""),re=Object(p.a)(ne,2),ce=re[0],ie=re[1],se=Object(r.useState)(""),oe=Object(p.a)(se,2),je=oe[0],be=oe[1],ue=Object(r.useState)(""),le=Object(p.a)(ue,2),de=le[0],Oe=le[1];return Object(r.useEffect)((function(){!function(){var t=i.findIndex((function(t){return t.id==e.match.params.id}));t>=0&&(u(i[t]),x(i[t].data.FirstName),g(i[t].data.LastName),y(i[t].data.UserName),N(i[t].data.SessionTimeOut))}()}),[]),Object(r.useEffect)((function(){""!=b&&b.data.Permissions.forEach((function(e){switch(e){case"Delete Movies":be("Delete Movies");break;case"Create Movies":ie("Create Movies");break;case"Update Movies":Oe("Update Movies");break;case"View Movies":te("View Movies");break;case"Create Subscription":V("Create Subscription");break;case"Delete Subscription":Y("Delete Subscription");break;case"Update Subscription":X("Update Subscription");break;case"View Subscription":L("View Subscription")}}))}),[b]),Object(r.useEffect)((function(){L(""!=W&&""!=B&&""!=K?"View Subscription":"")}),[W,B,K]),Object(r.useEffect)((function(){te(""!=ce&&""!=je&&""!=de?"View Movies":"")}),[ce,je,de]),Object(n.jsx)("div",{children:Object(n.jsx)(z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsxs)(ae.a,{className:t.paper,children:[Object(n.jsxs)("h3",{children:["Edit User : ",e.match.params.name]}),"First Name:",Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",placeholder:b&&b.data.FirstName,onChange:function(e){return x(e.target.value)},variant:"outlined"}),Object(n.jsx)("br",{}),"Last Name:",Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",placeholder:b&&b.data.LastName,onChange:function(e){return g(e.target.value)},variant:"outlined"}),Object(n.jsx)("br",{}),"User Name:",Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",placeholder:b&&b.data.UserName,onChange:function(e){return y(e.target.value)},variant:"outlined"}),Object(n.jsx)("br",{}),"Session time out (Minuts):",Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",placeholder:b&&b.data.SessionTimeOut,onChange:function(e){return N(e.target.value)},variant:"outlined"}),Object(n.jsx)("br",{}),"Created date : ",b&&b.data.CreatedDate.toDate().toString(),Object(n.jsx)("br",{}),Object(n.jsx)("h3",{children:"Permissions :"}),Object(n.jsxs)(ae.a,{row:!0,children:[Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:P,onChange:function(e){e.target.checked?L(e.target.name):L("")},size:"small"}),label:"View Subscription",name:"View Subscription"}),"\xa0\xa0\xa0\xa0",Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:W,onChange:function(e){e.target.checked?V(e.target.name):V("")},size:"small"}),label:"Create Subscription",name:"Create Subscription"}),Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:B,onChange:function(e){e.target.checked?Y(e.target.name):Y("")},size:"small"}),label:"Delete Subscription",name:"Delete Subscription"})]}),Object(n.jsxs)(ae.a,{row:!0,children:[Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:K,onChange:function(e){e.target.checked?X(e.target.name):X("")},size:"small"}),label:"Update Subscription",name:"Update Subscription"}),Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:ee,onChange:function(e){e.target.checked?te(e.target.name):te("")},size:"small"}),label:"View Movies",name:"View Movies"}),"\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0 \xa0\xa0",Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:ce,onChange:function(e){e.target.checked?ie(e.target.name):ie("")},size:"small"}),label:"Create Movies",name:"Create Movies"})]}),Object(n.jsxs)(ae.a,{row:!0,children:[Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:je,onChange:function(e){e.target.checked?be(e.target.name):be("")},size:"small"}),label:"Delete Movies",name:"Delete Movies"}),"\xa0\xa0\xa0\xa0 \xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:de,onChange:function(e){e.target.checked?Oe(e.target.name):Oe("")},size:"small"}),label:"Update Movies",name:"Update Movies"})]}),Object(n.jsxs)(z.a,{container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(E.b,{style:{textDecoration:"none"},to:"/UsersManagment",children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(he.a,{}),variant:"contained",size:"large",onClick:function(){var t=[];""!=P&&t.push(P),""!=W&&t.push(W),""!=B&&t.push(B),""!=K&&t.push(K),""!=ee&&t.push(ee),""!=ce&&t.push(ce),""!=je&&t.push(je),""!=de&&t.push(de);var a={id:e.match.params.id,data:{FirstName:O,LastName:v,UserName:k,SessionTimeOut:D,CreatedDate:b.data.CreatedDate,Permissions:t}},n={FirstName:O,LastName:v,UserName:k,SessionTimeOut:D,CreatedDate:b.data.CreatedDate,Permissions:t},r=i,c=i.findIndex((function(e){return e.id==a.id}));c>=0&&(r[c]=a,s(r),f.updateServer("Users",a.id,n))}})})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(E.b,{style:{textDecoration:"none"},to:"/UsersManagment",children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(_.a,{}),size:"large",variant:"contained"})})})]})]})})})};var ye=function(e){var t=Object(r.useContext)(w),a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useContext)(I).logInUsers,o=Object(p.a)(s,2),j=o[0],b=o[1];return Object(n.jsxs)("div",{children:["Name :  ",e.userDetails.data.FirstName,"  ",e.userDetails.data.LastName,Object(n.jsx)("br",{}),"User Name : ",e.userDetails.data.UserName,Object(n.jsx)("br",{}),"Session time out (Minuts) : ",e.userDetails.data.SessionTimeOut,Object(n.jsx)("br",{}),"Created date : ",e.userDetails.data&&e.userDetails.data.CreatedDate.toDate().toString(),Object(n.jsx)("br",{}),"Permissions:",Object(n.jsx)("ul",{children:e.userDetails.data.Permissions&&e.userDetails.data.Permissions.map((function(e,t){return Object(n.jsx)("li",{children:e},t)}))}),Object(n.jsxs)(z.a,{container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(E.b,{to:"/UsersManagment/Edit/".concat(e.userDetails.id),style:{textDecoration:"none"},children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(K.a,{}),size:"large",variant:"contained"})})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",startIcon:Object(n.jsx)(H.a,{}),size:"large",onClick:function(){Object(F.confirmAlert)({title:"Are you sure you want to delete User:",message:e.userDetails.data.FirstName,buttons:[{label:"Yes",onClick:function(){return function(){var t=c.filter((function(t){return t.id!=e.userDetails.id}));i(t),f.deleteDataFromServer("Users",e.userDetails.id);var a=j.filter((function(t){return t.id!=e.userDetails.id}));b(a),f.deleteDataFromServer("UsersLogin",e.userDetails.id)}()}},{label:"No"}]})}})})]})]})};var Me=function(e){var t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),b=Object(p.a)(s,2),u=b[0],l=b[1],d=Object(r.useState)(""),O=Object(p.a)(d,2),x=O[0],m=O[1],h=Object(r.useState)(0),v=Object(p.a)(h,2),g=v[0],S=v[1],C=Object(r.useState)(""),k=Object(p.a)(C,2),y=k[0],M=k[1],D=Object(r.useState)(""),N=Object(p.a)(D,2),T=N[0],E=N[1],A=Object(r.useState)(!1),P=Object(p.a)(A,2),L=(P[0],P[1]),F=Object(r.useState)(!1),q=Object(p.a)(F,2),W=(q[0],q[1]),V=Object(r.useState)([]),G=Object(p.a)(V,2),R=(G[0],G[1]),B=Object(r.useState)(""),Y=Object(p.a)(B,2),H=Y[0],J=Y[1],K=Object(r.useState)(""),X=Object(p.a)(K,2),Q=X[0],$=X[1],ee=Object(r.useState)(""),ne=Object(p.a)(ee,2),re=ne[0],ce=ne[1],ie=Object(r.useState)(""),se=Object(p.a)(ie,2),oe=se[0],je=se[1],be=Object(r.useState)(""),ue=Object(p.a)(be,2),le=ue[0],de=ue[1],Oe=Object(r.useState)(""),xe=Object(p.a)(Oe,2),me=xe[0],he=xe[1],fe=Object(r.useState)(""),pe=Object(p.a)(fe,2),ve=pe[0],ge=pe[1],we=Object(r.useState)(""),ke=Object(p.a)(we,2),ye=ke[0],Me=ke[1],Ie=Object(r.useContext)(w),De=Object(p.a)(Ie,2),Ne=(De[0],De[1]),Ue=Object(r.useContext)(I).logInUsers,Te=Object(p.a)(Ue,2),Ee=(Te[0],Te[1]),ze=function(){var t=Object(j.a)(o.a.mark((function t(){var a,n,r,i,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],""!=H&&a.push(H),""!=Q&&a.push(Q),""!=re&&a.push(re),""!=oe&&a.push(oe),""!=le&&a.push(le),""!=me&&a.push(me),""!=ve&&a.push(ve),""!=ye&&a.push(ye),R(a),n={FirstName:c,LastName:u,UserName:x,SessionTimeOut:g,CreatedDate:new Date,Permissions:a},r={UserName:x,Password:""},t.next=14,f.sendDataToServer("Users",n);case 14:return i=t.sent,M(i.id),t.next=18,f.sendDataToServer("UsersLogin",r);case 18:s=t.sent,E(s.id),e.clickedAllUsers();case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ae=Object(r.useRef)(!0);Object(r.useEffect)(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ae.current){e.next=4;break}Ae.current=!1,e.next=9;break;case 4:return e.next=6,f.getDataFromServer("Users");case 6:t=e.sent,Ne(t),L(!0);case 9:case"end":return e.stop()}}),e)}))),[y]);var Pe=Object(r.useRef)(!0);return Object(r.useEffect)(Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pe.current){e.next=4;break}Pe.current=!1,e.next=9;break;case 4:return e.next=6,f.getDataFromServer("UsersLogin");case 6:t=e.sent,Ee(t),W(!0);case 9:case"end":return e.stop()}}),e)}))),[T]),Object(r.useEffect)((function(){""!=Q&&""!=re&&""!=oe&&J("View Subscription")}),[Q,re,oe]),Object(r.useEffect)((function(){""!=me&&""!=ve&&""!=ye&&de("View Movies")}),[me,ve,ye]),Object(n.jsxs)("div",{children:[Object(n.jsxs)(ae.a,{children:["First Name:",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("br",{}),"Last Name:",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return l(e.target.value)}}),Object(n.jsx)("br",{}),"User Name:",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return m(e.target.value)}}),Object(n.jsx)("br",{}),"Session time out (Minuts):",Object(n.jsx)(Z.a,{required:!0,label:"Required",variant:"outlined",size:"small",onChange:function(e){return S(e.target.value)}}),Object(n.jsx)("h3",{children:"Permissions :"})]}),Object(n.jsxs)(ae.a,{row:!0,children:[Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:H,onChange:function(e){e.target.checked?J(e.target.name):J("")},size:"small"}),label:"View Subscription",name:"View Subscription"}),"\xa0\xa0\xa0\xa0",Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{onChange:function(e){e.target.checked?$(e.target.name):$("")},size:"small"}),label:"Create Subscription",name:"Create Subscription"}),Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{onChange:function(e){e.target.checked?ce(e.target.name):ce("")},size:"small"}),label:"Delete Subscription",name:"Delete Subscription"})]}),Object(n.jsxs)(ae.a,{row:!0,children:[Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{onChange:function(e){e.target.checked?je(e.target.name):je("")},size:"small"}),label:"Update Subscription",name:"Update Subscription"}),Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{checked:le,onChange:function(e){e.target.checked?de(e.target.name):de("")},size:"small"}),label:"View Movies",name:"View Movies"}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{onChange:function(e){e.target.checked?he(e.target.name):he("")},size:"small"}),label:"Create Movies",name:"Create Movies"})]}),Object(n.jsxs)(ae.a,{row:!0,children:[Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{onChange:function(e){e.target.checked?ge(e.target.name):ge("")},size:"small"}),label:"Delete Movies",name:"Delete Movies"}),"\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",Object(n.jsx)(Ce.a,{control:Object(n.jsx)(Se.a,{onChange:function(e){e.target.checked?Me(e.target.name):Me("")},size:"small"}),label:"Update Movies",name:"Update Movies"})]}),Object(n.jsxs)(z.a,{container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(te.a,{}),variant:"contained",size:"large",onClick:ze})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},startIcon:Object(n.jsx)(_.a,{}),variant:"contained",size:"large",onClick:function(){return e.clickedAllUsers()}})})]})]})},Ie=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(5),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var De=function(){var e=Ie(),t=Object(r.useState)("primary"),a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),j=o[0],b=o[1],u=Object(r.useState)(!0),l=Object(p.a)(u,2),d=l[0],O=l[1],x=Object(r.useState)(!1),m=Object(p.a)(x,2),h=m[0],f=m[1],v=Object(r.useContext)(w),g=Object(p.a)(v,2),S=g[0],C=(g[1],function(){b(""),i("primary"),O(!0),f(!1)});return Object(n.jsx)("div",{children:Object(n.jsxs)(z.a,{container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(N.a,{variant:"h5",gutterBottom:!0,align:"center",children:"Users Managment"})}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",color:c,onClick:C,children:"All Users"})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",color:j,onClick:function(){i(""),b("primary"),O(!1),f(!0)},children:"Add User"})})]}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"column",alignItems:"center",children:[d&&S&&S.map((function(t,a){return Object(n.jsxs)("div",{children:[Object(n.jsx)(z.a,{item:!0,className:e.paper,children:Object(n.jsx)(ye,{userDetails:t})}),Object(n.jsx)("br",{})]})})),h&&Object(n.jsx)(z.a,{item:!0,className:e.paper,children:Object(n.jsx)(Me,{clickedAllUsers:C})})]})]})})},Ne=Object(L.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var Ue=function(){var e=Ne(),t=Object(r.useContext)(I).logInUsers,a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),j=o[0],b=o[1],u=Object(r.useState)(""),l=Object(p.a)(u,2),d=l[0],O=l[1],x=Object(r.useState)(!1),m=Object(p.a)(x,2),h=m[0],v=m[1],g=Object(T.f)();return Object(n.jsx)("div",{children:Object(n.jsx)(z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsxs)(ae.a,{className:e.paper,children:[Object(n.jsx)("h2",{children:"Create an Account"}),Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",label:"User Name",variant:"outlined",value:j,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",label:"Password",variant:"outlined",value:d,onChange:function(e){return O(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsxs)(z.a,{container:!0,direction:"row",justify:"center",children:[Object(n.jsxs)(z.a,{item:!0,children:[h&&Object(n.jsx)("h3",{children:"Failed To Create!"}),h&&Object(n.jsx)("h3",{children:"To Create An Account the User Must"}),h&&Object(n.jsx)("h3",{children:"be created in the system by the Admin"})]}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",size:"large",onClick:function(){var e=c.find((function(e){return e.data.UserName==j}));if(e){var t={UserName:e.data.UserName,Password:d},a={id:e.id,data:{UserName:e.data.UserName,Password:d}};f.updateServer("UsersLogin",e.id,t);var n=c;n.push(a),i(n),g.push("/LogIn")}else v(!0),b(""),O("")},children:"Create"})}),Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(E.b,{style:{textDecoration:"none"},to:"/LogIn",children:Object(n.jsx)(U.a,{style:{textTransform:"none"},size:"large",variant:"contained",children:"Cancel"})})})]})]})})})},Te=Object(L.a)((function(e){return{link:{textDecoration:"none"},button:{color:"white"},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var Ee=function(){var e=Te(),t=Object(r.useState)(""),a=Object(p.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(p.a)(s,2),j=o[0],b=o[1],u=Object(r.useState)(!1),l=Object(p.a)(u,2),d=l[0],O=l[1],x=Object(T.f)(),m=Object(r.useContext)(I),h=m.isLogedIn,f=m.logInUsers,v=m.logInUser,g=m.isAdmin,S=Object(p.a)(h,2),C=(S[0],S[1]),w=Object(p.a)(f,2),k=w[0],y=(w[1],Object(p.a)(v,2)),M=(y[0],y[1]),D=Object(p.a)(g,2),N=(D[0],D[1]);return Object(n.jsx)("div",{children:Object(n.jsx)(z.a,{container:!0,direction:"column",justify:"center",alignItems:"center",children:Object(n.jsxs)(ae.a,{className:e.paper,children:[Object(n.jsx)("h2",{children:"Welcome To The Log In Page"}),Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",label:"User Name",variant:"outlined",value:c,onChange:function(e){return i(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsx)(Z.a,{required:!0,id:"outlined-basic",label:"Password",variant:"outlined",value:j,onChange:function(e){return b(e.target.value)}}),Object(n.jsx)("br",{}),Object(n.jsxs)(z.a,{container:!0,direction:"row",justify:"center",children:[Object(n.jsx)(z.a,{item:!0,children:Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",onClick:function(){k.find((function(e){return e.data.UserName==c&&e.data.Password==j}))?(M({user:c,pass:j}),N("orisha"==c),x.push("/"),C(!0),O(!1)):(O(!0),i(""),b(""))},children:"Login"})}),Object(n.jsxs)(z.a,{item:!0,container:!0,direction:"column",alignItems:"center",children:[Object(n.jsx)("br",{}),Object(n.jsxs)(z.a,{item:!0,children:[d&&Object(n.jsx)("h3",{children:"Failed To LogIn!"}),d&&Object(n.jsx)("h3",{children:"User or Password are Incorrect"}),d&&Object(n.jsx)("h3",{children:"please try again"})]}),"Don't have an account yet?",Object(n.jsx)(U.a,{style:{textTransform:"none"},variant:"contained",onClick:function(){x.push("/NewAccount")},children:"Create A New Account"})]})]})]})})})};var ze=function(){return Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:"https://zigzorg.com/wp-content/uploads/2015/12/Collage-Movies-5-50p.jpg",width:"1500",height:"1000",style:{display:"block",marginLeft:"auto",marginRight:"auto"}})})},Ae=a(104),Pe=a.n(Ae),Le=a(105),Fe=Object(L.a)((function(e){return{appbar:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},link:{textDecoration:"none"},button:{color:"white"},paper:{padding:e.spacing(3),borderColor:"black",borderStyle:"solid",borderWidth:"2px"}}}));var qe=function(){var e=Fe(),t=Object(T.f)(),a=Object(r.useContext)(I),c=a.isLogedIn,i=a.logInUsers,s=a.logInUser,b=a.isAdmin,u=Object(p.a)(c,2),l=u[0],d=u[1],O=Object(p.a)(i,2),x=(O[0],O[1]),m=Object(p.a)(s,2),h=m[0],g=m[1],C=Object(p.a)(b,2),k=C[0],M=(C[1],Object(r.useContext)(v)),D=Object(p.a)(M,2),N=(D[0],D[1]),L=Object(r.useContext)(S),q=Object(p.a)(L,2),V=(q[0],q[1]),G=Object(r.useContext)(w),R=Object(p.a)(G,2),B=(R[0],R[1]),Y=Object(r.useContext)(y),H=Object(p.a)(Y,2),J=(H[0],H[1]),K=Object(r.useState)(null),X=Object(p.a)(K,2),Z=X[0],$=X[1],_=Boolean(Z),ee=function(){$(null)},te=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getDataFromServer("Users");case 2:t=e.sent,B(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getDataFromServer("Movies");case 2:t=e.sent,N(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getDataFromServer("Members");case 2:t=e.sent,V(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getDataFromServer("Subscriptions");case 2:t=e.sent,J(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getDataFromServer("UsersLogin");case 2:t=e.sent,x(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ae(),ne(),te(),re(),ie(),d(!1);case 6:case"end":return e.stop()}}),e)}))),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(A.a,{position:"sticky",className:e.appbar,children:Object(n.jsx)(P.a,{children:Object(n.jsxs)(z.a,{container:!0,direction:"row",justify:"center",spacing:5,children:[Object(n.jsx)(z.a,{item:!0,children:l?Object(n.jsx)(E.b,{to:"/Movies",className:e.link,children:Object(n.jsx)(U.a,{className:e.button,children:"Movies"})}):Object(n.jsx)(E.b,{to:"/LogIn",className:e.link,children:Object(n.jsx)(U.a,{className:e.button,children:"Log In"})})}),Object(n.jsx)(z.a,{item:!0,children:l?Object(n.jsx)(E.b,{to:"/Subscriptions",className:e.link,children:Object(n.jsx)(U.a,{className:e.button,children:"Subscriptions"})}):Object(n.jsx)(E.b,{to:"/NewAccount",className:e.link,children:Object(n.jsx)(U.a,{className:e.button,children:"Sign In"})})}),Object(n.jsx)(z.a,{item:!0,children:k&&l&&Object(n.jsx)(E.b,{to:"/UsersManagment",className:e.link,children:Object(n.jsx)(U.a,{className:e.button,children:"User Managment"})})}),Object(n.jsx)(z.a,{item:!0,children:l&&Object(n.jsxs)("div",{children:[Object(n.jsx)(de.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){$(e.currentTarget)},color:"inherit",children:Object(n.jsx)(Pe.a,{})}),Object(n.jsxs)(Le.a,{id:"menu-appbar",anchorEl:Z,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:_,onClose:ee,children:[Object(n.jsx)(W.a,{onClick:ee,children:h.user}),Object(n.jsx)(W.a,{onClick:function(){ee(),Object(F.confirmAlert)({title:"Are you sure you want to Log Out?",buttons:[{label:"Yes",onClick:function(){return g(""),d(!1),void t.push("/LogIn")}},{label:"No"}]})},children:"Log Out"})]})]})})]})})}),Object(n.jsxs)(T.c,{children:[Object(n.jsx)(T.a,{exact:!0,path:"/",component:ze}),Object(n.jsx)(T.a,{path:"/LogIn",component:Ee}),Object(n.jsx)(T.a,{path:"/NewAccount",component:Ue}),Object(n.jsx)(T.a,{path:"/Movies/Edit/:id",component:pe}),Object(n.jsx)(T.a,{path:"/Movies",component:xe}),Object(n.jsx)(T.a,{path:"/Movie/:id",component:oe}),Object(n.jsx)(T.a,{path:"/Member/:id",component:Q}),Object(n.jsx)(T.a,{path:"/Subscriptions/Edit/:id",component:ge}),Object(n.jsx)(T.a,{path:"/Subscriptions",component:ce}),Object(n.jsx)(T.a,{path:"/UsersManagment/Edit/:id",component:ke}),Object(n.jsx)(T.a,{path:"/UsersManagment",component:De})]})]})};var We=function(){return Object(r.useEffect)(Object(j.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[]),Object(n.jsxs)("div",{children:[Object(n.jsx)(N.a,{variant:"h3",gutterBottom:!0,align:"center",children:"Movies - Subscription Web Site"}),Object(n.jsx)(D,{children:Object(n.jsx)(M,{children:Object(n.jsx)(k,{children:Object(n.jsx)(C,{children:Object(n.jsx)(g,{children:Object(n.jsx)(qe,{})})})})})})]})};var Ve=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(We,{})})},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,208)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(n.jsx)(E.a,{children:Object(n.jsx)(Ve,{})}),document.getElementById("root")),Ge()}},[[155,1,2]]]);
//# sourceMappingURL=main.19cadbb2.chunk.js.map